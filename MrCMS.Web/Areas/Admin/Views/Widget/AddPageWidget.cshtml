@using MrCMS.Helpers
@model MrCMS.Models.AddWidgetModel
<div class="modal-header">
    <a class="close" data-dismiss="modal">×</a>
    <h3>Add widget</h3>
</div>
@using (Html.BeginForm("AddPageWidget", "Widget", new { id = "", returnUrl = Request.UrlReferrer.ToString() }, FormMethod.Post))
{
    <div class="modal-body">
        @Html.HiddenFor(model => model.LayoutArea.Id)
        @Html.HiddenFor(model => model.Webpage.Id)

        @Html.Label("WidgetType", "Widget Type")
        @Html.DropDownList("WidgetType", WidgetHelper.WidgetTypeDropdownItems, new { data_val = "true", data_val_required = "Please select a widget type" })
        <br />
        @Html.LabelFor(model => model.Name)
        @Html.EditorFor(model => model.Name, Model.Name)

        @Html.LabelFor(widget => widget.IsRecursive, "Is Recursive")
        @Html.EditorFor(widget => widget.IsRecursive)
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">Close</a>
        <input type="submit" class="btn-success btn" value="Add widget" />
    </div>
}